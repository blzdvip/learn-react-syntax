<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title></title>
		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<script type="text/javascript" src="js/jquery-2.1.4.min.js" ></script>
		<script src="https://cdn.bootcss.com/react/15.6.1/react.min.js"></script>
		<script src="https://cdn.bootcss.com/react/15.6.1/react-dom.min.js"></script>
		<script src="https://cdn.bootcss.com/babel-standalone/6.25.0/babel.min.js"></script>
		<style>
			.child {
				border: 1px solid #000;
				height: 200px;
			}
			
			.parent {
				border: 3px solid #000;
				height: 400px;
			}
		</style>
	</head>

	<body>
		<h1>
			<span class="label label-info">DEMO 5</span>
		</h1>
		<br />
		<br />
		<br />
		
		<div id="well">
			
		</div>
		<script type="text/babel">
			var Child = React.createClass({
				getInitialState: function () {
					return {
						color: ""
					};
				},
				changeColor: function (e) {
					this.setState({
						color: e.target.getAttribute("data-color")
					});
				},
				render: function () {
					return (
						<div style={{backgroundColor: this.state.color}} className="col-xs-5 col-xs-offset-1 child">
							<br />
							<ul className="list-inline">
								<li>
									<a href="#" data-color="#286000" className="btn btn-primary" onClick={this.props.parentChangeColor}>&nbsp;</a> 
								</li>
								<li>
									<a href="#" data-color="#31b0d5" className="btn btn-info" onClick={this.props.parentChangeColor}>&nbsp;</a>
								</li>
                            	<li>
                            		<a href="#" data-color="#c9302c" className="btn btn-danger" onClick={this.props.parentChangeColor}>&nbsp;</a>
                            	</li>
                            	<li>
                            		<a href="#" data-color="#ec971f" className="btn btn-warning" onClick={this.props.parentChangeColor}>&nbsp;</a>
                            	</li>
                            	<li>
                            		<a href="#" data-color="#e6e6e6" className="btn btn-default" onClick={this.props.parentChangeColor}>&nbsp;</a>
                            	</li>
							</ul>
						</div>
					);
				}
			});
			
			var Parent = React.createClass({
				getInitialState: function () {
					return {
						color: ""
					};
				},
				changeColor: function (e) {
					this.setState({
						color: e.target.getAttribute("data-color")
					});
				},
				child1ChangeColor: function (e) {
					this.refs["child1"].changeColor(e);
				},
				child2ChangeColor: function (e) {
					this.refs["child2"].changeColor(e);
				},
				render: function () {
					return (
						<div style={{backgroundColor: this.state.color}} className="col-xs-10 col-xs-offset-1 parent">
	                        <br/>
	                        <ul className="list-inline">
	                            <li>对应第一个child</li>
	                            <li><a href="#" data-color="#286090" className="btn btn-primary" onClick={this.child1ChangeColor}>&nbsp;</a></li>
	                            <li><a href="#" data-color="#31b0d5" className="btn btn-info" onClick={this.child1ChangeColor}>&nbsp;</a></li>
	                            <li><a href="#" data-color="#c9302c" className="btn btn-danger" onClick={this.child1ChangeColor}>&nbsp;</a></li>
	                            <li><a href="#" data-color="#ec971f" className="btn btn-warning" onClick={this.child1ChangeColor}>&nbsp;</a></li>
	                            <li><a href="#" data-color="#e6e6e6" className="btn btn-default" onClick={this.child1ChangeColor}>&nbsp;</a></li>
	                        </ul>
	                        <ul className="list-inline">
	                            <li>对应第二个child</li>
	                            <li><a href="#" data-color="#286090" className="btn btn-primary" onClick={this.child2ChangeColor}>&nbsp;</a></li>
	                            <li><a href="#" data-color="#31b0d5" className="btn btn-info" onClick={this.child2ChangeColor}>&nbsp;</a></li>
	                            <li><a href="#" data-color="#c9302c" className="btn btn-danger" onClick={this.child2ChangeColor}>&nbsp;</a></li>
	                            <li><a href="#" data-color="#ec971f" className="btn btn-warning" onClick={this.child2ChangeColor}>&nbsp;</a></li>
	                            <li><a href="#" data-color="#e6e6e6" className="btn btn-default" onClick={this.child2ChangeColor}>&nbsp;</a></li>
	                        </ul>
	                        <hr/>
	
	                        <Child ref="child1" parentChangeColor={this.changeColor} />
	                        <Child ref="child2" parentChangeColor={this.changeColor} />
	                    </div>
					);
				}
			});
			
			ReactDOM.render(
				<Parent/>,
				document.getElementById('well')
			);
		</script>
	</body>

</html>